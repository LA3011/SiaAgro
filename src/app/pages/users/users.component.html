<!-- Content -->
<ion-card> 
  <ion-breadcrumbs>
    <!-- <ion-breadcrumb href="#">
      Configuracion
      <ion-icon slot="end" name="construct-sharp"></ion-icon>
    </ion-breadcrumb> -->
    <ion-breadcrumb>
      Usuarios
      <ion-icon slot="end" name="people-sharp"></ion-icon>
    </ion-breadcrumb>
  </ion-breadcrumbs>


  <ion-card-header style="text-align: center;">
    <ion-card-title style="font-weight: 700; font-size: 40px; padding: 0;">Listado Usuarios</ion-card-title>
  </ion-card-header>

  <ion-list [inset]="true" style="margin-top: 0px;;">

    <ion-button size="default" id="open-modal-add">
      Agregar
      <ion-icon name="add-sharp"></ion-icon>
    </ion-button>
    <!-- Modal Add -->
    <ion-modal #modalA trigger="open-modal-add">
      <ng-template>
        <ion-content>
          <ion-toolbar style="text-align: center;">
            <ion-title>Agregar Usuario</ion-title>
            <ion-buttons slot="end">
              <ion-button color="light" (click)="modalA.dismiss()"><ion-icon name="close"></ion-icon></ion-button>
            </ion-buttons>
          </ion-toolbar>
          <ion-list>
            <ion-item [button]="true">
              <ion-label position="stacked">Ingrese Usuario</ion-label>
              <input type="email" [(ngModel)]="user.nombre" placeholder="" class="form-control-lg border-0">
            </ion-item>
            <ion-item [button]="true">
              <ion-label position="stacked">Ingrese Contraseña</ion-label>
              <input [(ngModel)]="user.edad" placeholder="" class="form-control-lg border-0">
            </ion-item>
          </ion-list>
          <div style="text-align: center;">
            <ion-button fill="outline" (click)="modalA.dismiss()">Cancelar</ion-button>
            <ion-button (click)="saveNewGame(user,modalA);">Confirmar</ion-button>
          </div>
        </ion-content>
      </ng-template>
    </ion-modal>
    <!-- Modal View -->

    <!-- List -->
    <ion-item *ngFor="let user of users">
      <ion-label>{{ user.nombre }}</ion-label>
      <ion-button size="small" color="success" id="open-modal-view-{{user.id}}">
        <ion-icon name="eye" slot="icon-only"></ion-icon>
      </ion-button>
      <ion-button size="small" color="warning" id="open-modal-edit-{{user.id}}">
        <ion-icon name="create-sharp" slot="icon-only"></ion-icon>
      </ion-button>
      <ion-button size="small" color="danger" id="open-modal-delete-{{user.id}}">
        <ion-icon name="trash" slot="icon-only"></ion-icon>
      </ion-button>
      

      <!-- Modal View -->
      <ion-modal #modalV trigger="open-modal-view-{{user.id}}">
        <ng-template>
          <ion-content>
            <ion-toolbar style="text-align: center;">
              <ion-title>Visualización Usuario</ion-title>
              <ion-buttons slot="end">
                <ion-button color="light" (click)="modalV.dismiss()"><ion-icon name="close"></ion-icon></ion-button>
              </ion-buttons>
            </ion-toolbar>
            <ion-list>
              <ion-item>
                <ion-label>
                  <span>Nombre</span>
                  <p>{{user.nombre}}</p>
                  <span>Contraseña</span>
                  <p>{{user.edad}}</p>
                </ion-label>
              </ion-item>
            </ion-list>
          </ion-content>
        </ng-template>
      </ion-modal>
      <!-- Modal View -->

      <!-- Modal Edit -->
      <ion-modal #modalE trigger="open-modal-edit-{{user.id}}">
        <ng-template>
          <ion-content>
            <ion-toolbar slot="fixed" style="text-align: center;">
              <ion-title >Editar Usuario</ion-title>
              <ion-buttons slot="end">
                <ion-button color="light" (click)="modalE.dismiss()"><ion-icon name="close"></ion-icon></ion-button>
              </ion-buttons>
            </ion-toolbar> 
            <ion-list [inset]="true" style=" margin-top: 9vh; border-bottom: 1px solid rgb(0, 4, 255);">
              <ion-item [button]="true">
                <ion-label position="stacked">Usuario</ion-label>
                <ion-input [clearInput]="true" required="required" [(ngModel)]="user.nombre"></ion-input>
              </ion-item>
                <ion-item [button]="true">
                  <ion-label position="stacked">Contraseña</ion-label>
                <ion-input [clearInput]="true" required [(ngModel)]="user.edad"></ion-input>
              </ion-item>
            </ion-list>
            <div style="text-align: center; margin-top: 2vh;">
              <ion-button fill="outline" (click)="modalE.dismiss()">Cancelar</ion-button>
              <ion-button (click)="updateGame(user,modalE);">Confirmar</ion-button>
            </div>
          </ion-content>
        </ng-template>
      </ion-modal>
      <!-- Modal Edit -->

      <!-- Modal Delete -->
      <ion-modal #modalD trigger="open-modal-delete-{{user.id}}" >
        <ng-template>
          <ion-content>
            <ion-toolbar color="danger" style="text-align: center;">
              <ion-title>Eliminar Usuario</ion-title>
              <ion-buttons slot="end">
                <ion-button color="light" (click)="modalD.dismiss()"><ion-icon name="close"></ion-icon></ion-button>
              </ion-buttons>
            </ion-toolbar>
            <ion-list>
              <ion-item style="padding: 5px;">
                <ion-label style="text-align: center;">
                  <h2>¿Esta Seguro de Eliminar este Usuario?</h2>
                  <p>{{user.nombre}}</p>
                </ion-label>
              </ion-item>
            </ion-list>
            <div style="text-align: center; margin-top: 0vh;">
              <ion-button color="danger" fill="outline" (click)="modalD.dismiss()">Cancelar</ion-button>
              <ion-button color="danger" (click)="deleteGame(user.id,modalD)">Confirmar</ion-button>
            </div>
          </ion-content>
        </ng-template>
      </ion-modal>
      <!-- Modal Delete -->

    </ion-item>
  </ion-list>
  <!-- List End -->


</ion-card>
<!-- Content End -->